<div class="ios-blur-fix" tabindex="0" *ngIf="isOpen"></div>
<div class="autocomplete-container" [class.querying]="isQuerying" [class.focused]="isFocusedInput || isFocusedItem" [class.open]="isOpen">
  <div #inputWrapper class="input-wrapper" [class.form-group]="bootstrap" (blur)="wrapperBlur()" (input)="inputChange($event)" (focus)="wrapperFocus()" (keyup)="inputTextKeyUp($event)" [tabindex]="_options.isSelect ? 0 : -1">
    <input #inputElement [class.form-control]="bootstrap" [placeholder]="inputPlaceholder" type="text" (focus)="elementFocus()"  (blur)="elementBlur()" (keydown)="inputTextKeyDown($event)" [value]="inputTextValue" [tabindex]="!_options.isSelect ? 0 : -1" id="{{id}}" autocomplete="off" [disabled]="disabled"/>
    <label *ngIf="!bootstrap" for="{{id}}" class="placeholder">{{ _options.placeholder }}</label>
    <span class="dropdown-caret" [class.is-arrow]="_options.isSelect"></span>
  </div>
  <div class="input-bottom-border"></div>
  <ul class="autocomplete-dropdown list-group" (mouseenter)="dropdownMouseEnter()" (mouseleave)="dropdownMouseLeave()" [class.d-none]="!isOpen">
    <ng-container *ngIf="itemList">
      <ng-container *ngIf="itemList.length > 0">
        <li class="list-group-item d-block result" *ngFor="let item of itemList; let i = index" [class.disabled]="item.disabled" [class.next]="i === highlightedItem + 1" [class.active]="i === highlightedItem" (mouseenter)="itemHover(i)" (click)="itemClick(item.id, i)" [tabindex]="isOpen ? 0 : -1">
          <span class="text-capitalize">{{ item.prettyPrint ? item.prettyPrint : item.value }}</span>
        </li>
      </ng-container>
      <li class="list-group-item d-block querying" *ngIf="isQuerying">
        <span>Buscando...</span>
      </li>
      <li class="list-group-item d-block querying" *ngIf="requiresMinCharacters">
        <span>Digita por lo menos {{ _options.minCharacters }} caracteres</span>
      </li>
      <li class="list-group-item d-block no-results" *ngIf="noResults">
        <span>No se encontraron resultados</span>
      </li>
    </ng-container>
  </ul>
</div>

